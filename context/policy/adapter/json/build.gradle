plugins {
    id "java-test-fixtures"
    id "maven-publish"
}

configurations {
    testFixturesApi.setCanBeResolved(true)
}

dependencies {
    api project(":policy-use-cases")
    api project(":common-json")
    api "com.github.michaelruocco:json-adapter:${jsonAdapterVersion}"
    implementation "com.fasterxml.jackson.core:jackson-databind:${jacksonVersion}"
    implementation "com.fasterxml.jackson.core:jackson-annotations:${jacksonVersion}"
    implementation "com.fasterxml.jackson.core:jackson-core:${jacksonVersion}"

    testImplementation "org.junit.jupiter:junit-jupiter-params:${junitVersion}"
    testImplementation "net.javacrumbs.json-unit:json-unit-assertj:${jsonUnitAssertjVersion}"

    testFixturesApi testFixtures(project(":policy-use-cases"))
    testFixturesApi "com.github.michaelruocco:file-loader:${fileLoaderVersion}"
}

publishing {
    publications {
        lib(MavenPublication) { publication ->
            from components.java
            artifactId = "${rootProject.name}-${project.name}"
        }
    }
}